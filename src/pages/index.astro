---
import Layout from "../layouts/Layout.astro";
import { Picture } from "astro:assets";

import Margherita from "../assets/images/pizza.png";
import Spaghetti from "../assets/images/spaghetti.png";
import Mussels from "../assets/images/mussels2.png";
import Dessert from "../assets/images/dessert.png";
import PizzaHero from "../assets/images/pizza-hero.png";
import Decorative from "../assets/images/pexels-shvetsa-5953523.jpg";

const menuCategories = [
  {
    id: "pizza",
    label: "Pizza",
    highlight: "Wood-fired pies with charred, airy crusts.",
    items: [
      {
        name: "San Pietro Margherita",
        price: "$18",
        description: "San Marzano tomatoes, hand-pulled mozzarella, basil oil, 72-hour dough.",
        tags: ["vegetarian", "signature"],
      },
      {
        name: "Smoked Soppressata",
        price: "$21",
        description: "Calabrian honey, smoked mozzarella, pickled fresno chiles, basil.",
        tags: ["spicy"],
      },
      {
        name: "Beehive Bianca",
        price: "$20",
        description: "Utah Beehive cheese, charred leeks, ricotta, lemon zest, arugula.",
        tags: ["white pie"],
      },
    ],
  },
  {
    id: "pasta",
    label: "Pasta",
    highlight: "Fresh ribbons and slow-simmered sauces.",
    items: [
      {
        name: "Truffle Tagliatelle",
        price: "$24",
        description: "Egg pasta tossed with black truffle butter, roasted mushrooms, Parmigiano-Reggiano.",
        tags: ["guest favorite"],
      },
      {
        name: "Sunday Sugo",
        price: "$22",
        description: "Short rib and tomato ragù, bronze-cut rigatoni, basil, pecorino.",
        tags: ["hearty"],
      },
      {
        name: "Lemon Ricotta Ravioli",
        price: "$19",
        description: "Housemade ricotta filling, preserved lemon, toasted pine nuts, garden herbs.",
        tags: ["vegetarian"],
      },
    ],
  },
  {
    id: "small-plates",
    label: "Small Plates",
    highlight: "Shared bites to start the night.",
    items: [
      {
        name: "Charred Caesar",
        price: "$13",
        description: "Little gem lettuce, parmesan crumble, roasted garlic dressing.",
        tags: ["crisp"],
      },
      {
        name: "Coal Oven Meatballs",
        price: "$15",
        description: "Heritage pork, whipped ricotta, burnt tomato sauce, basil oil.",
        tags: ["classic"],
      },
      {
        name: "Crispy Polenta Fries",
        price: "$12",
        description: "Sea salt, rosemary, smoked tomato aioli.",
        tags: ["gluten-free"],
      },
    ],
  },
  {
    id: "dessert",
    label: "Dessert",
    highlight: "Sweet finishes worth lingering for.",
    items: [
      {
        name: "Olive Oil Panna Cotta",
        price: "$10",
        description: "Citrus marmalade, candied pistachio, sea salt flakes.",
        tags: ["silky"],
      },
      {
        name: "Affogato",
        price: "$9",
        description: "Espresso over vanilla gelato, dark chocolate shavings.",
        tags: ["espresso"],
      },
      {
        name: "Tiramisu Slice",
        price: "$11",
        description: "Rum-soaked ladyfingers, mascarpone mousse, cocoa dust.",
        tags: ["classic"],
      },
    ],
  },
  {
    id: "drinks",
    label: "Drinks",
    highlight: "Spritzes, sodas, and thoughtful pours.",
    items: [
      {
        name: "Blood Orange Spritz",
        price: "$12",
        description: "Bitter aperitivo, prosecco, sparkling orange, rosemary.",
        tags: ["refreshing"],
      },
      {
        name: "Desert Lime Soda",
        price: "$6",
        description: "House citrus cordial, sparkling water, mint.",
        tags: ["zero-proof"],
      },
      {
        name: "Chianti Classico",
        price: "$13",
        description: "By-the-glass pour from Castellina vineyards.",
        tags: ["red wine"],
      },
    ],
  },
];
---
<Layout pageTitle="Home">
  <section class="hero" aria-labelledby="welcome">
    <div class="wrap">
      <div>
        <p class="eyebrow">ELEVATED COMFORT, FIRED BY HAND</p>
        <h1 id="welcome">Wood-fired pizza with a hush-of-the-oven calm.</h1>
        <p>
          Dough rested for three days, sauce simmered low, and pies baked fast in a 900°F oven. St. George Pizza is the
          neighborhood dining room for late nights, quick lunches, and celebrations that need one more slice.
        </p>
        <div class="hero-actions">
          <a class="button-primary" href="tel:+14355555555">Call for pickup</a>
          <a class="button-secondary" href="#menu">Explore the menu</a>
        </div>
        <div class="details-grid" role="list">
          <div class="details-card" role="listitem">
            <span>Address</span>
            <p>E 100 S · St. George, UT 84770</p>
          </div>
          <div class="details-card" role="listitem">
            <span>Reservations</span>
            <p>Same-day tables for parties up to six.</p>
          </div>
          <div class="details-card" role="listitem">
            <span>Delivery</span>
            <p>Free downtown delivery nightly until 10:30pm.</p>
          </div>
        </div>
      </div>
      <div class="hero-card">
        <div>
          <small>Tonight's Feature</small>
          <strong>Charred fennel sausage pizza with roasted peppers.</strong>
        </div>
        <div class="hero-gallery" id="gallery">
          <Picture src={PizzaHero} alt="Chef slicing pizza" formats={["avif", "webp"]} />
          <Picture src={Mussels} alt="Wood-fired mussels" formats={["avif", "webp"]} />
          <Picture src={Decorative} alt="Dining room at St. George Pizza" formats={["avif", "webp"]} />
        </div>
      </div>
    </div>
  </section>

  <section id="menu" aria-labelledby="menu-title">
    <div class="wrap menu-shell">
      <div class="section-title">
        <span>Menu</span>
        <h2 id="menu-title">Intuitive browsing, effortless decisions.</h2>
        <p data-menu-highlight>{menuCategories[0].highlight}</p>
      </div>
      <div class="menu-tabs" role="tablist">
        {menuCategories.map((category, index) => (
          <button
            type="button"
            aria-pressed={index === 0}
            data-menu-tab={category.id}
            data-highlight={category.highlight}
            data-initial={index === 0}
          >
            {category.label}
          </button>
        ))}
      </div>
      <div class="menu-grid" data-menu-grid>
        {menuCategories[0].items.map((item) => (
          <article class="menu-item" data-category={menuCategories[0].id}>
            <header>
              <h3>{item.name}</h3>
              <strong>{item.price}</strong>
            </header>
            <p>{item.description}</p>
            <div class="menu-tags">
              {item.tags.map((tag) => (
                <span>{tag}</span>
              ))}
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <section aria-labelledby="favorites-title">
    <div class="wrap">
      <div class="section-title">
        <span>Favorites</span>
        <h2 id="favorites-title">Plates guests ask for by name.</h2>
        <p>Seasonal ingredients, clean presentation, and just enough char for that campfire edge.</p>
      </div>
      <div class="gallery-grid">
        <Picture src={Margherita} alt="Margherita pizza" formats={["avif", "webp"]} />
        <Picture src={Spaghetti} alt="House made pasta" formats={["avif", "webp"]} />
        <Picture src={Mussels} alt="Seafood pasta" formats={["avif", "webp"]} />
        <Picture src={Dessert} alt="Chocolate dessert" formats={["avif", "webp"]} />
      </div>
    </div>
  </section>

  <section aria-labelledby="story-title">
    <div class="wrap">
      <div class="section-title">
        <span>Experience</span>
        <h2 id="story-title">Designed for speed without the rush.</h2>
        <p>
          From curbside pickup lanes to a bar built around the oven, every touchpoint moves quickly while keeping service
          unhurried. High-contrast menus, thoughtful lighting, and a music-forward dining room keep energy high and wait
          times low.
        </p>
      </div>
      <div class="details-grid">
        <div class="details-card">
          <span>Pickup</span>
          <p>Online ordering opens at 10:30am with 15-minute turnaround.</p>
        </div>
        <div class="details-card">
          <span>Dine In</span>
          <p>Communal and private tables, plus chef's counter seating.</p>
        </div>
        <div class="details-card">
          <span>Events</span>
          <p>Reserve the patio for up to 30 guests with family-style menus.</p>
        </div>
      </div>
    </div>
  </section>

  <script type="application/json" id="menu-data" is:inline>{JSON.stringify(menuCategories)}</script>
</Layout>
